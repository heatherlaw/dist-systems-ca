syntax = "proto3";

package chat;

service chatBot {
    rpc chatService(stream UserMessage) returns(stream StaffMessage); //bidirectional streaming between user and staff
    rpc getTickets(TicketRequest) returns(TicketList) //allows staff to request a list of open tickets for the user
}

//user sending message
message UserMessage {
    string cust_id = 1; 
    string message = 2;
    string message_time = 3;
}

//staff sending message
message StaffMessage {
    bool success = 1;
    string staff_id = 2;
    string message_id = 3;
    string message_time = 4;
}

//staff requesting ticket list
message TicketRequest {
    string cust_id = 1;
}

//returning ticket list
message TicketList {
    stream tickets = 1;
}